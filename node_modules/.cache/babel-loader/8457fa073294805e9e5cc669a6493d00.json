{"ast":null,"code":"// Copyright 2018 The Go Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\n\"use strict\";\n\nimport 'globalthis/polyfill';\n\nvar globalThis = require('globalthis/polyfill')();\n\n(() => {\n  const enosys = () => {\n    const err = new Error(\"not implemented\");\n    err.code = \"ENOSYS\";\n    return err;\n  };\n\n  if (!globalThis.fs) {\n    let outputBuf = \"\";\n    globalThis.fs = {\n      constants: {\n        O_WRONLY: -1,\n        O_RDWR: -1,\n        O_CREAT: -1,\n        O_TRUNC: -1,\n        O_APPEND: -1,\n        O_EXCL: -1\n      },\n\n      // unused\n      writeSync(fd, buf) {\n        outputBuf += decoder.decode(buf);\n        const nl = outputBuf.lastIndexOf(\"\\n\");\n\n        if (nl != -1) {\n          console.log(outputBuf.substr(0, nl));\n          outputBuf = outputBuf.substr(nl + 1);\n        }\n\n        return buf.length;\n      },\n\n      write(fd, buf, offset, length, position, callback) {\n        if (offset !== 0 || length !== buf.length || position !== null) {\n          callback(enosys());\n          return;\n        }\n\n        const n = this.writeSync(fd, buf);\n        callback(null, n);\n      },\n\n      chmod(path, mode, callback) {\n        callback(enosys());\n      },\n\n      chown(path, uid, gid, callback) {\n        callback(enosys());\n      },\n\n      close(fd, callback) {\n        callback(enosys());\n      },\n\n      fchmod(fd, mode, callback) {\n        callback(enosys());\n      },\n\n      fchown(fd, uid, gid, callback) {\n        callback(enosys());\n      },\n\n      fstat(fd, callback) {\n        callback(enosys());\n      },\n\n      fsync(fd, callback) {\n        callback(null);\n      },\n\n      ftruncate(fd, length, callback) {\n        callback(enosys());\n      },\n\n      lchown(path, uid, gid, callback) {\n        callback(enosys());\n      },\n\n      link(path, link, callback) {\n        callback(enosys());\n      },\n\n      lstat(path, callback) {\n        callback(enosys());\n      },\n\n      mkdir(path, perm, callback) {\n        callback(enosys());\n      },\n\n      open(path, flags, mode, callback) {\n        callback(enosys());\n      },\n\n      read(fd, buffer, offset, length, position, callback) {\n        callback(enosys());\n      },\n\n      readdir(path, callback) {\n        callback(enosys());\n      },\n\n      readlink(path, callback) {\n        callback(enosys());\n      },\n\n      rename(from, to, callback) {\n        callback(enosys());\n      },\n\n      rmdir(path, callback) {\n        callback(enosys());\n      },\n\n      stat(path, callback) {\n        callback(enosys());\n      },\n\n      symlink(path, link, callback) {\n        callback(enosys());\n      },\n\n      truncate(path, length, callback) {\n        callback(enosys());\n      },\n\n      unlink(path, callback) {\n        callback(enosys());\n      },\n\n      utimes(path, atime, mtime, callback) {\n        callback(enosys());\n      }\n\n    };\n  }\n\n  if (!globalThis.process) {\n    globalThis.process = {\n      getuid() {\n        return -1;\n      },\n\n      getgid() {\n        return -1;\n      },\n\n      geteuid() {\n        return -1;\n      },\n\n      getegid() {\n        return -1;\n      },\n\n      getgroups() {\n        throw enosys();\n      },\n\n      pid: -1,\n      ppid: -1,\n\n      umask() {\n        throw enosys();\n      },\n\n      cwd() {\n        throw enosys();\n      },\n\n      chdir() {\n        throw enosys();\n      }\n\n    };\n  }\n\n  if (!globalThis.crypto) {\n    throw new Error(\"globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)\");\n  }\n\n  if (!globalThis.performance) {\n    throw new Error(\"globalThis.performance is not available, polyfill required (performance.now only)\");\n  }\n\n  if (!globalThis.TextEncoder) {\n    throw new Error(\"globalThis.TextEncoder is not available, polyfill required\");\n  }\n\n  if (!globalThis.TextDecoder) {\n    throw new Error(\"globalThis.TextDecoder is not available, polyfill required\");\n  }\n\n  const encoder = new TextEncoder(\"utf-8\");\n  const decoder = new TextDecoder(\"utf-8\");\n  globalThis.Go = class {\n    constructor() {\n      this.argv = [\"js\"];\n      this.env = {};\n\n      this.exit = code => {\n        if (code !== 0) {\n          console.warn(\"exit code:\", code);\n        }\n      };\n\n      this._exitPromise = new Promise(resolve => {\n        this._resolveExitPromise = resolve;\n      });\n      this._pendingEvent = null;\n      this._scheduledTimeouts = new Map();\n      this._nextCallbackTimeoutID = 1;\n\n      const setInt64 = (addr, v) => {\n        this.mem.setUint32(addr + 0, v, true);\n        this.mem.setUint32(addr + 4, Math.floor(v / 4294967296), true);\n      };\n\n      const getInt64 = addr => {\n        const low = this.mem.getUint32(addr + 0, true);\n        const high = this.mem.getInt32(addr + 4, true);\n        return low + high * 4294967296;\n      };\n\n      const loadValue = addr => {\n        const f = this.mem.getFloat64(addr, true);\n\n        if (f === 0) {\n          return undefined;\n        }\n\n        if (!isNaN(f)) {\n          return f;\n        }\n\n        const id = this.mem.getUint32(addr, true);\n        return this._values[id];\n      };\n\n      const storeValue = (addr, v) => {\n        const nanHead = 0x7FF80000;\n\n        if (typeof v === \"number\" && v !== 0) {\n          if (isNaN(v)) {\n            this.mem.setUint32(addr + 4, nanHead, true);\n            this.mem.setUint32(addr, 0, true);\n            return;\n          }\n\n          this.mem.setFloat64(addr, v, true);\n          return;\n        }\n\n        if (v === undefined) {\n          this.mem.setFloat64(addr, 0, true);\n          return;\n        }\n\n        let id = this._ids.get(v);\n\n        if (id === undefined) {\n          id = this._idPool.pop();\n\n          if (id === undefined) {\n            id = this._values.length;\n          }\n\n          this._values[id] = v;\n          this._goRefCounts[id] = 0;\n\n          this._ids.set(v, id);\n        }\n\n        this._goRefCounts[id]++;\n        let typeFlag = 0;\n\n        switch (typeof v) {\n          case \"object\":\n            if (v !== null) {\n              typeFlag = 1;\n            }\n\n            break;\n\n          case \"string\":\n            typeFlag = 2;\n            break;\n\n          case \"symbol\":\n            typeFlag = 3;\n            break;\n\n          case \"function\":\n            typeFlag = 4;\n            break;\n        }\n\n        this.mem.setUint32(addr + 4, nanHead | typeFlag, true);\n        this.mem.setUint32(addr, id, true);\n      };\n\n      const loadSlice = addr => {\n        const array = getInt64(addr + 0);\n        const len = getInt64(addr + 8);\n        return new Uint8Array(this._inst.exports.mem.buffer, array, len);\n      };\n\n      const loadSliceOfValues = addr => {\n        const array = getInt64(addr + 0);\n        const len = getInt64(addr + 8);\n        const a = new Array(len);\n\n        for (let i = 0; i < len; i++) {\n          a[i] = loadValue(array + i * 8);\n        }\n\n        return a;\n      };\n\n      const loadString = addr => {\n        const saddr = getInt64(addr + 0);\n        const len = getInt64(addr + 8);\n        return decoder.decode(new DataView(this._inst.exports.mem.buffer, saddr, len));\n      };\n\n      const timeOrigin = Date.now() - performance.now();\n      this.importObject = {\n        go: {\n          // Go's SP does not change as long as no Go code is running. Some operations (e.g. calls, getters and setters)\n          // may synchronously trigger a Go event handler. This makes Go code get executed in the middle of the imported\n          // function. A goroutine can switch to a new stack if the current stack is too small (see morestack function).\n          // This changes the SP, thus we have to update the SP used by the imported function.\n          // func wasmExit(code int32)\n          \"runtime.wasmExit\": sp => {\n            sp >>>= 0;\n            const code = this.mem.getInt32(sp + 8, true);\n            this.exited = true;\n            delete this._inst;\n            delete this._values;\n            delete this._goRefCounts;\n            delete this._ids;\n            delete this._idPool;\n            this.exit(code);\n          },\n          // func wasmWrite(fd uintptr, p unsafe.Pointer, n int32)\n          \"runtime.wasmWrite\": sp => {\n            sp >>>= 0;\n            const fd = getInt64(sp + 8);\n            const p = getInt64(sp + 16);\n            const n = this.mem.getInt32(sp + 24, true); // fs.writeSync(fd, new Uint8Array(this._inst.exports.mem.buffer, p, n));\n          },\n          // func resetMemoryDataView()\n          \"runtime.resetMemoryDataView\": sp => {\n            sp >>>= 0;\n            this.mem = new DataView(this._inst.exports.mem.buffer);\n          },\n          // func nanotime1() int64\n          \"runtime.nanotime1\": sp => {\n            sp >>>= 0;\n            setInt64(sp + 8, (timeOrigin + performance.now()) * 1000000);\n          },\n          // func walltime() (sec int64, nsec int32)\n          \"runtime.walltime\": sp => {\n            sp >>>= 0;\n            const msec = new Date().getTime();\n            setInt64(sp + 8, msec / 1000);\n            this.mem.setInt32(sp + 16, msec % 1000 * 1000000, true);\n          },\n          // func scheduleTimeoutEvent(delay int64) int32\n          \"runtime.scheduleTimeoutEvent\": sp => {\n            sp >>>= 0;\n            const id = this._nextCallbackTimeoutID;\n            this._nextCallbackTimeoutID++;\n\n            this._scheduledTimeouts.set(id, setTimeout(() => {\n              this._resume();\n\n              while (this._scheduledTimeouts.has(id)) {\n                // for some reason Go failed to register the timeout event, log and try again\n                // (temporary workaround for https://github.com/golang/go/issues/28975)\n                console.warn(\"scheduleTimeoutEvent: missed timeout event\");\n\n                this._resume();\n              }\n            }, getInt64(sp + 8) + 1 // setTimeout has been seen to fire up to 1 millisecond early\n            ));\n\n            this.mem.setInt32(sp + 16, id, true);\n          },\n          // func clearTimeoutEvent(id int32)\n          \"runtime.clearTimeoutEvent\": sp => {\n            sp >>>= 0;\n            const id = this.mem.getInt32(sp + 8, true);\n            clearTimeout(this._scheduledTimeouts.get(id));\n\n            this._scheduledTimeouts.delete(id);\n          },\n          // func getRandomData(r []byte)\n          \"runtime.getRandomData\": sp => {\n            sp >>>= 0;\n            crypto.getRandomValues(loadSlice(sp + 8));\n          },\n          // func finalizeRef(v ref)\n          \"syscall/js.finalizeRef\": sp => {\n            sp >>>= 0;\n            const id = this.mem.getUint32(sp + 8, true);\n            this._goRefCounts[id]--;\n\n            if (this._goRefCounts[id] === 0) {\n              const v = this._values[id];\n              this._values[id] = null;\n\n              this._ids.delete(v);\n\n              this._idPool.push(id);\n            }\n          },\n          // func stringVal(value string) ref\n          \"syscall/js.stringVal\": sp => {\n            sp >>>= 0;\n            storeValue(sp + 24, loadString(sp + 8));\n          },\n          // func valueGet(v ref, p string) ref\n          \"syscall/js.valueGet\": sp => {\n            sp >>>= 0;\n            const result = Reflect.get(loadValue(sp + 8), loadString(sp + 16));\n            sp = this._inst.exports.getsp() >>> 0; // see comment above\n\n            storeValue(sp + 32, result);\n          },\n          // func valueSet(v ref, p string, x ref)\n          \"syscall/js.valueSet\": sp => {\n            sp >>>= 0;\n            Reflect.set(loadValue(sp + 8), loadString(sp + 16), loadValue(sp + 32));\n          },\n          // func valueDelete(v ref, p string)\n          \"syscall/js.valueDelete\": sp => {\n            sp >>>= 0;\n            Reflect.deleteProperty(loadValue(sp + 8), loadString(sp + 16));\n          },\n          // func valueIndex(v ref, i int) ref\n          \"syscall/js.valueIndex\": sp => {\n            sp >>>= 0;\n            storeValue(sp + 24, Reflect.get(loadValue(sp + 8), getInt64(sp + 16)));\n          },\n          // valueSetIndex(v ref, i int, x ref)\n          \"syscall/js.valueSetIndex\": sp => {\n            sp >>>= 0;\n            Reflect.set(loadValue(sp + 8), getInt64(sp + 16), loadValue(sp + 24));\n          },\n          // func valueCall(v ref, m string, args []ref) (ref, bool)\n          \"syscall/js.valueCall\": sp => {\n            sp >>>= 0;\n\n            try {\n              const v = loadValue(sp + 8);\n              const m = Reflect.get(v, loadString(sp + 16));\n              const args = loadSliceOfValues(sp + 32);\n              const result = Reflect.apply(m, v, args);\n              sp = this._inst.exports.getsp() >>> 0; // see comment above\n\n              storeValue(sp + 56, result);\n              this.mem.setUint8(sp + 64, 1);\n            } catch (err) {\n              sp = this._inst.exports.getsp() >>> 0; // see comment above\n\n              storeValue(sp + 56, err);\n              this.mem.setUint8(sp + 64, 0);\n            }\n          },\n          // func valueInvoke(v ref, args []ref) (ref, bool)\n          \"syscall/js.valueInvoke\": sp => {\n            sp >>>= 0;\n\n            try {\n              const v = loadValue(sp + 8);\n              const args = loadSliceOfValues(sp + 16);\n              const result = Reflect.apply(v, undefined, args);\n              sp = this._inst.exports.getsp() >>> 0; // see comment above\n\n              storeValue(sp + 40, result);\n              this.mem.setUint8(sp + 48, 1);\n            } catch (err) {\n              sp = this._inst.exports.getsp() >>> 0; // see comment above\n\n              storeValue(sp + 40, err);\n              this.mem.setUint8(sp + 48, 0);\n            }\n          },\n          // func valueNew(v ref, args []ref) (ref, bool)\n          \"syscall/js.valueNew\": sp => {\n            sp >>>= 0;\n\n            try {\n              const v = loadValue(sp + 8);\n              const args = loadSliceOfValues(sp + 16);\n              const result = Reflect.construct(v, args);\n              sp = this._inst.exports.getsp() >>> 0; // see comment above\n\n              storeValue(sp + 40, result);\n              this.mem.setUint8(sp + 48, 1);\n            } catch (err) {\n              sp = this._inst.exports.getsp() >>> 0; // see comment above\n\n              storeValue(sp + 40, err);\n              this.mem.setUint8(sp + 48, 0);\n            }\n          },\n          // func valueLength(v ref) int\n          \"syscall/js.valueLength\": sp => {\n            sp >>>= 0;\n            setInt64(sp + 16, parseInt(loadValue(sp + 8).length));\n          },\n          // valuePrepareString(v ref) (ref, int)\n          \"syscall/js.valuePrepareString\": sp => {\n            sp >>>= 0;\n            const str = encoder.encode(String(loadValue(sp + 8)));\n            storeValue(sp + 16, str);\n            setInt64(sp + 24, str.length);\n          },\n          // valueLoadString(v ref, b []byte)\n          \"syscall/js.valueLoadString\": sp => {\n            sp >>>= 0;\n            const str = loadValue(sp + 8);\n            loadSlice(sp + 16).set(str);\n          },\n          // func valueInstanceOf(v ref, t ref) bool\n          \"syscall/js.valueInstanceOf\": sp => {\n            sp >>>= 0;\n            this.mem.setUint8(sp + 24, loadValue(sp + 8) instanceof loadValue(sp + 16) ? 1 : 0);\n          },\n          // func copyBytesToGo(dst []byte, src ref) (int, bool)\n          \"syscall/js.copyBytesToGo\": sp => {\n            sp >>>= 0;\n            const dst = loadSlice(sp + 8);\n            const src = loadValue(sp + 32);\n\n            if (!(src instanceof Uint8Array || src instanceof Uint8ClampedArray)) {\n              this.mem.setUint8(sp + 48, 0);\n              return;\n            }\n\n            const toCopy = src.subarray(0, dst.length);\n            dst.set(toCopy);\n            setInt64(sp + 40, toCopy.length);\n            this.mem.setUint8(sp + 48, 1);\n          },\n          // func copyBytesToJS(dst ref, src []byte) (int, bool)\n          \"syscall/js.copyBytesToJS\": sp => {\n            sp >>>= 0;\n            const dst = loadValue(sp + 8);\n            const src = loadSlice(sp + 16);\n\n            if (!(dst instanceof Uint8Array || dst instanceof Uint8ClampedArray)) {\n              this.mem.setUint8(sp + 48, 0);\n              return;\n            }\n\n            const toCopy = src.subarray(0, dst.length);\n            dst.set(toCopy);\n            setInt64(sp + 40, toCopy.length);\n            this.mem.setUint8(sp + 48, 1);\n          },\n          \"debug\": value => {\n            console.log(value);\n          }\n        }\n      };\n    }\n\n    async run(instance) {\n      if (!(instance instanceof WebAssembly.Instance)) {\n        throw new Error(\"Go.run: WebAssembly.Instance expected\");\n      }\n\n      this._inst = instance;\n      this.mem = new DataView(this._inst.exports.mem.buffer);\n      this._values = [// JS values that Go currently has references to, indexed by reference id\n      NaN, 0, null, true, false, globalThis, this];\n      this._goRefCounts = new Array(this._values.length).fill(Infinity); // number of references that Go has to a JS value, indexed by reference id\n\n      this._ids = new Map([// mapping from JS values to reference ids\n      [0, 1], [null, 2], [true, 3], [false, 4], [globalThis, 5], [this, 6]]);\n      this._idPool = []; // unused ids that have been garbage collected\n\n      this.exited = false; // whether the Go program has exited\n      // Pass command line arguments and environment variables to WebAssembly by writing them to the linear memory.\n\n      let offset = 4096;\n\n      const strPtr = str => {\n        const ptr = offset;\n        const bytes = encoder.encode(str + \"\\0\");\n        new Uint8Array(this.mem.buffer, offset, bytes.length).set(bytes);\n        offset += bytes.length;\n\n        if (offset % 8 !== 0) {\n          offset += 8 - offset % 8;\n        }\n\n        return ptr;\n      };\n\n      const argc = this.argv.length;\n      const argvPtrs = [];\n      this.argv.forEach(arg => {\n        argvPtrs.push(strPtr(arg));\n      });\n      argvPtrs.push(0);\n      const keys = Object.keys(this.env).sort();\n      keys.forEach(key => {\n        argvPtrs.push(strPtr(`${key}=${this.env[key]}`));\n      });\n      argvPtrs.push(0);\n      const argv = offset;\n      argvPtrs.forEach(ptr => {\n        this.mem.setUint32(offset, ptr, true);\n        this.mem.setUint32(offset + 4, 0, true);\n        offset += 8;\n      }); // The linker guarantees global data starts from at least wasmMinDataAddr.\n      // Keep in sync with cmd/link/internal/ld/data.go:wasmMinDataAddr.\n\n      const wasmMinDataAddr = 4096 + 8192;\n\n      if (offset >= wasmMinDataAddr) {\n        throw new Error(\"total length of command line and environment variables exceeds limit\");\n      }\n\n      this._inst.exports.run(argc, argv);\n\n      if (this.exited) {\n        this._resolveExitPromise();\n      }\n\n      await this._exitPromise;\n    }\n\n    _resume() {\n      if (this.exited) {\n        throw new Error(\"Go program has already exited\");\n      }\n\n      this._inst.exports.resume();\n\n      if (this.exited) {\n        this._resolveExitPromise();\n      }\n    }\n\n    _makeFuncWrapper(id) {\n      const go = this;\n      return function () {\n        const event = {\n          id: id,\n          this: this,\n          args: arguments\n        };\n        go._pendingEvent = event;\n\n        go._resume();\n\n        return event.result;\n      };\n    }\n\n  };\n})();\n\nlet Crypto = class {\n  constructor() {\n    this.go = new globalThis.Go();\n  }\n\n  load() {\n    var go = this.go;\n    let promise = new Promise(function (ok, err) {\n      WebAssembly.instantiateStreaming(fetch(\"./cryptolib.wasm\"), go.importObject).then(result => {\n        console.log(\"XXXX\");\n        go.run(result.instance);\n        ok();\n      });\n    });\n    return promise;\n  }\n\n  prvkey() {\n    return __cryptolib__prvkey();\n  }\n\n  id(prvkey) {\n    return __cryptolib__id(prvkey);\n  }\n\n  sign(msg, prvkey) {\n    return __cryptolib__sign(msg, prvkey);\n  }\n\n  hash(msg) {\n    return __cryptolib__hash(msg);\n  }\n\n  recoverid(msg, sig) {\n    return __cryptolib__recoverid(msg, sig);\n  }\n\n};\nmodule.export.Crypto = Crypto;","map":{"version":3,"names":["globalThis","require","enosys","err","Error","code","fs","outputBuf","constants","O_WRONLY","O_RDWR","O_CREAT","O_TRUNC","O_APPEND","O_EXCL","writeSync","fd","buf","decoder","decode","nl","lastIndexOf","console","log","substr","length","write","offset","position","callback","n","chmod","path","mode","chown","uid","gid","close","fchmod","fchown","fstat","fsync","ftruncate","lchown","link","lstat","mkdir","perm","open","flags","read","buffer","readdir","readlink","rename","from","to","rmdir","stat","symlink","truncate","unlink","utimes","atime","mtime","process","getuid","getgid","geteuid","getegid","getgroups","pid","ppid","umask","cwd","chdir","crypto","performance","TextEncoder","TextDecoder","encoder","Go","constructor","argv","env","exit","warn","_exitPromise","Promise","resolve","_resolveExitPromise","_pendingEvent","_scheduledTimeouts","Map","_nextCallbackTimeoutID","setInt64","addr","v","mem","setUint32","Math","floor","getInt64","low","getUint32","high","getInt32","loadValue","f","getFloat64","undefined","isNaN","id","_values","storeValue","nanHead","setFloat64","_ids","get","_idPool","pop","_goRefCounts","set","typeFlag","loadSlice","array","len","Uint8Array","_inst","exports","loadSliceOfValues","a","Array","i","loadString","saddr","DataView","timeOrigin","Date","now","importObject","go","sp","exited","p","msec","getTime","setInt32","setTimeout","_resume","has","clearTimeout","delete","getRandomValues","push","result","Reflect","getsp","deleteProperty","m","args","apply","setUint8","construct","parseInt","str","encode","String","dst","src","Uint8ClampedArray","toCopy","subarray","value","run","instance","WebAssembly","Instance","NaN","fill","Infinity","strPtr","ptr","bytes","argc","argvPtrs","forEach","arg","keys","Object","sort","key","wasmMinDataAddr","resume","_makeFuncWrapper","event","this","arguments","Crypto","load","promise","ok","instantiateStreaming","fetch","then","prvkey","__cryptolib__prvkey","__cryptolib__id","sign","msg","__cryptolib__sign","hash","__cryptolib__hash","recoverid","sig","__cryptolib__recoverid","module","export"],"sources":["/home/johan/dev/github/colonyos/dashboard.react/dashboard/src/colonies/crypto/wasm_exec.js"],"sourcesContent":["// Copyright 2018 The Go Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\n\n\"use strict\";\n\nimport 'globalthis/polyfill';\nvar globalThis = require('globalthis/polyfill')();\n\n(() => {\n    const enosys = () => {\n        const err = new Error(\"not implemented\");\n        err.code = \"ENOSYS\";\n        return err;\n    };\n\n    if (!globalThis.fs) {\n        let outputBuf = \"\";\n        globalThis.fs = {\n            constants: { O_WRONLY: -1, O_RDWR: -1, O_CREAT: -1, O_TRUNC: -1, O_APPEND: -1, O_EXCL: -1 }, // unused\n            writeSync(fd, buf) {\n                outputBuf += decoder.decode(buf);\n                const nl = outputBuf.lastIndexOf(\"\\n\");\n                if (nl != -1) {\n                    console.log(outputBuf.substr(0, nl));\n                    outputBuf = outputBuf.substr(nl + 1);\n                }\n                return buf.length;\n            },\n            write(fd, buf, offset, length, position, callback) {\n                if (offset !== 0 || length !== buf.length || position !== null) {\n                    callback(enosys());\n                    return;\n                }\n                const n = this.writeSync(fd, buf);\n                callback(null, n);\n            },\n            chmod(path, mode, callback) { callback(enosys()); },\n            chown(path, uid, gid, callback) { callback(enosys()); },\n            close(fd, callback) { callback(enosys()); },\n            fchmod(fd, mode, callback) { callback(enosys()); },\n            fchown(fd, uid, gid, callback) { callback(enosys()); },\n            fstat(fd, callback) { callback(enosys()); },\n            fsync(fd, callback) { callback(null); },\n            ftruncate(fd, length, callback) { callback(enosys()); },\n            lchown(path, uid, gid, callback) { callback(enosys()); },\n            link(path, link, callback) { callback(enosys()); },\n            lstat(path, callback) { callback(enosys()); },\n            mkdir(path, perm, callback) { callback(enosys()); },\n            open(path, flags, mode, callback) { callback(enosys()); },\n            read(fd, buffer, offset, length, position, callback) { callback(enosys()); },\n            readdir(path, callback) { callback(enosys()); },\n            readlink(path, callback) { callback(enosys()); },\n            rename(from, to, callback) { callback(enosys()); },\n            rmdir(path, callback) { callback(enosys()); },\n            stat(path, callback) { callback(enosys()); },\n            symlink(path, link, callback) { callback(enosys()); },\n            truncate(path, length, callback) { callback(enosys()); },\n            unlink(path, callback) { callback(enosys()); },\n            utimes(path, atime, mtime, callback) { callback(enosys()); },\n        };\n    }\n\n    if (!globalThis.process) {\n        globalThis.process = {\n            getuid() { return -1; },\n            getgid() { return -1; },\n            geteuid() { return -1; },\n            getegid() { return -1; },\n            getgroups() { throw enosys(); },\n            pid: -1,\n            ppid: -1,\n            umask() { throw enosys(); },\n            cwd() { throw enosys(); },\n            chdir() { throw enosys(); },\n        }\n    }\n\n    if (!globalThis.crypto) {\n        throw new Error(\"globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)\");\n    }\n\n    if (!globalThis.performance) {\n        throw new Error(\"globalThis.performance is not available, polyfill required (performance.now only)\");\n    }\n\n    if (!globalThis.TextEncoder) {\n        throw new Error(\"globalThis.TextEncoder is not available, polyfill required\");\n    }\n\n    if (!globalThis.TextDecoder) {\n        throw new Error(\"globalThis.TextDecoder is not available, polyfill required\");\n    }\n\n    const encoder = new TextEncoder(\"utf-8\");\n    const decoder = new TextDecoder(\"utf-8\");\n\n    globalThis.Go = class {\n        constructor() {\n            this.argv = [\"js\"];\n            this.env = {};\n            this.exit = (code) => {\n                if (code !== 0) {\n                    console.warn(\"exit code:\", code);\n                }\n            };\n            this._exitPromise = new Promise((resolve) => {\n                this._resolveExitPromise = resolve;\n            });\n            this._pendingEvent = null;\n            this._scheduledTimeouts = new Map();\n            this._nextCallbackTimeoutID = 1;\n\n            const setInt64 = (addr, v) => {\n                this.mem.setUint32(addr + 0, v, true);\n                this.mem.setUint32(addr + 4, Math.floor(v / 4294967296), true);\n            }\n\n            const getInt64 = (addr) => {\n                const low = this.mem.getUint32(addr + 0, true);\n                const high = this.mem.getInt32(addr + 4, true);\n                return low + high * 4294967296;\n            }\n\n            const loadValue = (addr) => {\n                const f = this.mem.getFloat64(addr, true);\n                if (f === 0) {\n                    return undefined;\n                }\n                if (!isNaN(f)) {\n                    return f;\n                }\n\n                const id = this.mem.getUint32(addr, true);\n                return this._values[id];\n            }\n\n            const storeValue = (addr, v) => {\n                const nanHead = 0x7FF80000;\n\n                if (typeof v === \"number\" && v !== 0) {\n                    if (isNaN(v)) {\n                        this.mem.setUint32(addr + 4, nanHead, true);\n                        this.mem.setUint32(addr, 0, true);\n                        return;\n                    }\n                    this.mem.setFloat64(addr, v, true);\n                    return;\n                }\n\n                if (v === undefined) {\n                    this.mem.setFloat64(addr, 0, true);\n                    return;\n                }\n\n                let id = this._ids.get(v);\n                if (id === undefined) {\n                    id = this._idPool.pop();\n                    if (id === undefined) {\n                        id = this._values.length;\n                    }\n                    this._values[id] = v;\n                    this._goRefCounts[id] = 0;\n                    this._ids.set(v, id);\n                }\n                this._goRefCounts[id]++;\n                let typeFlag = 0;\n                switch (typeof v) {\n                    case \"object\":\n                        if (v !== null) {\n                            typeFlag = 1;\n                        }\n                        break;\n                    case \"string\":\n                        typeFlag = 2;\n                        break;\n                    case \"symbol\":\n                        typeFlag = 3;\n                        break;\n                    case \"function\":\n                        typeFlag = 4;\n                        break;\n                }\n                this.mem.setUint32(addr + 4, nanHead | typeFlag, true);\n                this.mem.setUint32(addr, id, true);\n            }\n\n            const loadSlice = (addr) => {\n                const array = getInt64(addr + 0);\n                const len = getInt64(addr + 8);\n                return new Uint8Array(this._inst.exports.mem.buffer, array, len);\n            }\n\n            const loadSliceOfValues = (addr) => {\n                const array = getInt64(addr + 0);\n                const len = getInt64(addr + 8);\n                const a = new Array(len);\n                for (let i = 0; i < len; i++) {\n                    a[i] = loadValue(array + i * 8);\n                }\n                return a;\n            }\n\n            const loadString = (addr) => {\n                const saddr = getInt64(addr + 0);\n                const len = getInt64(addr + 8);\n                return decoder.decode(new DataView(this._inst.exports.mem.buffer, saddr, len));\n            }\n\n            const timeOrigin = Date.now() - performance.now();\n            this.importObject = {\n                go: {\n                    // Go's SP does not change as long as no Go code is running. Some operations (e.g. calls, getters and setters)\n                    // may synchronously trigger a Go event handler. This makes Go code get executed in the middle of the imported\n                    // function. A goroutine can switch to a new stack if the current stack is too small (see morestack function).\n                    // This changes the SP, thus we have to update the SP used by the imported function.\n\n                    // func wasmExit(code int32)\n                    \"runtime.wasmExit\": (sp) => {\n                        sp >>>= 0;\n                        const code = this.mem.getInt32(sp + 8, true);\n                        this.exited = true;\n                        delete this._inst;\n                        delete this._values;\n                        delete this._goRefCounts;\n                        delete this._ids;\n                        delete this._idPool;\n                        this.exit(code);\n                    },\n\n                    // func wasmWrite(fd uintptr, p unsafe.Pointer, n int32)\n                    \"runtime.wasmWrite\": (sp) => {\n                        sp >>>= 0;\n                        const fd = getInt64(sp + 8);\n                        const p = getInt64(sp + 16);\n                        const n = this.mem.getInt32(sp + 24, true);\n                        // fs.writeSync(fd, new Uint8Array(this._inst.exports.mem.buffer, p, n));\n                    },\n\n                    // func resetMemoryDataView()\n                    \"runtime.resetMemoryDataView\": (sp) => {\n                        sp >>>= 0;\n                        this.mem = new DataView(this._inst.exports.mem.buffer);\n                    },\n\n                    // func nanotime1() int64\n                    \"runtime.nanotime1\": (sp) => {\n                        sp >>>= 0;\n                        setInt64(sp + 8, (timeOrigin + performance.now()) * 1000000);\n                    },\n\n                    // func walltime() (sec int64, nsec int32)\n                    \"runtime.walltime\": (sp) => {\n                        sp >>>= 0;\n                        const msec = (new Date).getTime();\n                        setInt64(sp + 8, msec / 1000);\n                        this.mem.setInt32(sp + 16, (msec % 1000) * 1000000, true);\n                    },\n\n                    // func scheduleTimeoutEvent(delay int64) int32\n                    \"runtime.scheduleTimeoutEvent\": (sp) => {\n                        sp >>>= 0;\n                        const id = this._nextCallbackTimeoutID;\n                        this._nextCallbackTimeoutID++;\n                        this._scheduledTimeouts.set(id, setTimeout(\n                            () => {\n                                this._resume();\n                                while (this._scheduledTimeouts.has(id)) {\n                                    // for some reason Go failed to register the timeout event, log and try again\n                                    // (temporary workaround for https://github.com/golang/go/issues/28975)\n                                    console.warn(\"scheduleTimeoutEvent: missed timeout event\");\n                                    this._resume();\n                                }\n                            },\n                            getInt64(sp + 8) + 1, // setTimeout has been seen to fire up to 1 millisecond early\n                        ));\n                        this.mem.setInt32(sp + 16, id, true);\n                    },\n\n                    // func clearTimeoutEvent(id int32)\n                    \"runtime.clearTimeoutEvent\": (sp) => {\n                        sp >>>= 0;\n                        const id = this.mem.getInt32(sp + 8, true);\n                        clearTimeout(this._scheduledTimeouts.get(id));\n                        this._scheduledTimeouts.delete(id);\n                    },\n\n                    // func getRandomData(r []byte)\n                    \"runtime.getRandomData\": (sp) => {\n                        sp >>>= 0;\n                        crypto.getRandomValues(loadSlice(sp + 8));\n                    },\n\n                    // func finalizeRef(v ref)\n                    \"syscall/js.finalizeRef\": (sp) => {\n                        sp >>>= 0;\n                        const id = this.mem.getUint32(sp + 8, true);\n                        this._goRefCounts[id]--;\n                        if (this._goRefCounts[id] === 0) {\n                            const v = this._values[id];\n                            this._values[id] = null;\n                            this._ids.delete(v);\n                            this._idPool.push(id);\n                        }\n                    },\n\n                    // func stringVal(value string) ref\n                    \"syscall/js.stringVal\": (sp) => {\n                        sp >>>= 0;\n                        storeValue(sp + 24, loadString(sp + 8));\n                    },\n\n                    // func valueGet(v ref, p string) ref\n                    \"syscall/js.valueGet\": (sp) => {\n                        sp >>>= 0;\n                        const result = Reflect.get(loadValue(sp + 8), loadString(sp + 16));\n                        sp = this._inst.exports.getsp() >>> 0; // see comment above\n                        storeValue(sp + 32, result);\n                    },\n\n                    // func valueSet(v ref, p string, x ref)\n                    \"syscall/js.valueSet\": (sp) => {\n                        sp >>>= 0;\n                        Reflect.set(loadValue(sp + 8), loadString(sp + 16), loadValue(sp + 32));\n                    },\n\n                    // func valueDelete(v ref, p string)\n                    \"syscall/js.valueDelete\": (sp) => {\n                        sp >>>= 0;\n                        Reflect.deleteProperty(loadValue(sp + 8), loadString(sp + 16));\n                    },\n\n                    // func valueIndex(v ref, i int) ref\n                    \"syscall/js.valueIndex\": (sp) => {\n                        sp >>>= 0;\n                        storeValue(sp + 24, Reflect.get(loadValue(sp + 8), getInt64(sp + 16)));\n                    },\n\n                    // valueSetIndex(v ref, i int, x ref)\n                    \"syscall/js.valueSetIndex\": (sp) => {\n                        sp >>>= 0;\n                        Reflect.set(loadValue(sp + 8), getInt64(sp + 16), loadValue(sp + 24));\n                    },\n\n                    // func valueCall(v ref, m string, args []ref) (ref, bool)\n                    \"syscall/js.valueCall\": (sp) => {\n                        sp >>>= 0;\n                        try {\n                            const v = loadValue(sp + 8);\n                            const m = Reflect.get(v, loadString(sp + 16));\n                            const args = loadSliceOfValues(sp + 32);\n                            const result = Reflect.apply(m, v, args);\n                            sp = this._inst.exports.getsp() >>> 0; // see comment above\n                            storeValue(sp + 56, result);\n                            this.mem.setUint8(sp + 64, 1);\n                        } catch (err) {\n                            sp = this._inst.exports.getsp() >>> 0; // see comment above\n                            storeValue(sp + 56, err);\n                            this.mem.setUint8(sp + 64, 0);\n                        }\n                    },\n\n                    // func valueInvoke(v ref, args []ref) (ref, bool)\n                    \"syscall/js.valueInvoke\": (sp) => {\n                        sp >>>= 0;\n                        try {\n                            const v = loadValue(sp + 8);\n                            const args = loadSliceOfValues(sp + 16);\n                            const result = Reflect.apply(v, undefined, args);\n                            sp = this._inst.exports.getsp() >>> 0; // see comment above\n                            storeValue(sp + 40, result);\n                            this.mem.setUint8(sp + 48, 1);\n                        } catch (err) {\n                            sp = this._inst.exports.getsp() >>> 0; // see comment above\n                            storeValue(sp + 40, err);\n                            this.mem.setUint8(sp + 48, 0);\n                        }\n                    },\n\n                    // func valueNew(v ref, args []ref) (ref, bool)\n                    \"syscall/js.valueNew\": (sp) => {\n                        sp >>>= 0;\n                        try {\n                            const v = loadValue(sp + 8);\n                            const args = loadSliceOfValues(sp + 16);\n                            const result = Reflect.construct(v, args);\n                            sp = this._inst.exports.getsp() >>> 0; // see comment above\n                            storeValue(sp + 40, result);\n                            this.mem.setUint8(sp + 48, 1);\n                        } catch (err) {\n                            sp = this._inst.exports.getsp() >>> 0; // see comment above\n                            storeValue(sp + 40, err);\n                            this.mem.setUint8(sp + 48, 0);\n                        }\n                    },\n\n                    // func valueLength(v ref) int\n                    \"syscall/js.valueLength\": (sp) => {\n                        sp >>>= 0;\n                        setInt64(sp + 16, parseInt(loadValue(sp + 8).length));\n                    },\n\n                    // valuePrepareString(v ref) (ref, int)\n                    \"syscall/js.valuePrepareString\": (sp) => {\n                        sp >>>= 0;\n                        const str = encoder.encode(String(loadValue(sp + 8)));\n                        storeValue(sp + 16, str);\n                        setInt64(sp + 24, str.length);\n                    },\n\n                    // valueLoadString(v ref, b []byte)\n                    \"syscall/js.valueLoadString\": (sp) => {\n                        sp >>>= 0;\n                        const str = loadValue(sp + 8);\n                        loadSlice(sp + 16).set(str);\n                    },\n\n                    // func valueInstanceOf(v ref, t ref) bool\n                    \"syscall/js.valueInstanceOf\": (sp) => {\n                        sp >>>= 0;\n                        this.mem.setUint8(sp + 24, (loadValue(sp + 8) instanceof loadValue(sp + 16)) ? 1 : 0);\n                    },\n\n                    // func copyBytesToGo(dst []byte, src ref) (int, bool)\n                    \"syscall/js.copyBytesToGo\": (sp) => {\n                        sp >>>= 0;\n                        const dst = loadSlice(sp + 8);\n                        const src = loadValue(sp + 32);\n                        if (!(src instanceof Uint8Array || src instanceof Uint8ClampedArray)) {\n                            this.mem.setUint8(sp + 48, 0);\n                            return;\n                        }\n                        const toCopy = src.subarray(0, dst.length);\n                        dst.set(toCopy);\n                        setInt64(sp + 40, toCopy.length);\n                        this.mem.setUint8(sp + 48, 1);\n                    },\n\n                    // func copyBytesToJS(dst ref, src []byte) (int, bool)\n                    \"syscall/js.copyBytesToJS\": (sp) => {\n                        sp >>>= 0;\n                        const dst = loadValue(sp + 8);\n                        const src = loadSlice(sp + 16);\n                        if (!(dst instanceof Uint8Array || dst instanceof Uint8ClampedArray)) {\n                            this.mem.setUint8(sp + 48, 0);\n                            return;\n                        }\n                        const toCopy = src.subarray(0, dst.length);\n                        dst.set(toCopy);\n                        setInt64(sp + 40, toCopy.length);\n                        this.mem.setUint8(sp + 48, 1);\n                    },\n\n                    \"debug\": (value) => {\n                        console.log(value);\n                    },\n                }\n            };\n        }\n\n        async run(instance) {\n            if (!(instance instanceof WebAssembly.Instance)) {\n                throw new Error(\"Go.run: WebAssembly.Instance expected\");\n            }\n            this._inst = instance;\n            this.mem = new DataView(this._inst.exports.mem.buffer);\n            this._values = [ // JS values that Go currently has references to, indexed by reference id\n                NaN,\n                0,\n                null,\n                true,\n                false,\n                globalThis,\n                this,\n            ];\n            this._goRefCounts = new Array(this._values.length).fill(Infinity); // number of references that Go has to a JS value, indexed by reference id\n            this._ids = new Map([ // mapping from JS values to reference ids\n                [0, 1],\n                [null, 2],\n                [true, 3],\n                [false, 4],\n                [globalThis, 5],\n                [this, 6],\n            ]);\n            this._idPool = [];   // unused ids that have been garbage collected\n            this.exited = false; // whether the Go program has exited\n\n            // Pass command line arguments and environment variables to WebAssembly by writing them to the linear memory.\n            let offset = 4096;\n\n            const strPtr = (str) => {\n                const ptr = offset;\n                const bytes = encoder.encode(str + \"\\0\");\n                new Uint8Array(this.mem.buffer, offset, bytes.length).set(bytes);\n                offset += bytes.length;\n                if (offset % 8 !== 0) {\n                    offset += 8 - (offset % 8);\n                }\n                return ptr;\n            };\n\n            const argc = this.argv.length;\n\n            const argvPtrs = [];\n            this.argv.forEach((arg) => {\n                argvPtrs.push(strPtr(arg));\n            });\n            argvPtrs.push(0);\n\n            const keys = Object.keys(this.env).sort();\n            keys.forEach((key) => {\n                argvPtrs.push(strPtr(`${key}=${this.env[key]}`));\n            });\n            argvPtrs.push(0);\n\n            const argv = offset;\n            argvPtrs.forEach((ptr) => {\n                this.mem.setUint32(offset, ptr, true);\n                this.mem.setUint32(offset + 4, 0, true);\n                offset += 8;\n            });\n\n            // The linker guarantees global data starts from at least wasmMinDataAddr.\n            // Keep in sync with cmd/link/internal/ld/data.go:wasmMinDataAddr.\n            const wasmMinDataAddr = 4096 + 8192;\n            if (offset >= wasmMinDataAddr) {\n                throw new Error(\"total length of command line and environment variables exceeds limit\");\n            }\n\n            this._inst.exports.run(argc, argv);\n            if (this.exited) {\n                this._resolveExitPromise();\n            }\n            await this._exitPromise;\n        }\n\n        _resume() {\n            if (this.exited) {\n                throw new Error(\"Go program has already exited\");\n            }\n            this._inst.exports.resume();\n            if (this.exited) {\n                this._resolveExitPromise();\n            }\n        }\n\n        _makeFuncWrapper(id) {\n            const go = this;\n            return function() {\n                const event = { id: id, this: this, args: arguments };\n                go._pendingEvent = event;\n                go._resume();\n                return event.result;\n            };\n        }\n    }\n})();\n\n\nlet Crypto = class {\n    constructor() {\n        this.go = new globalThis.Go();\n    }\n\n    load() {\n        var go = this.go\n        let promise = new Promise(function(ok, err) {\n            WebAssembly.instantiateStreaming(fetch(\"./cryptolib.wasm\"), go.importObject).then((result) => {\n                console.log(\"XXXX\")\n                go.run(result.instance);\n                ok()\n            })\n        })\n        return promise\n    }\n\n    prvkey() {\n        return __cryptolib__prvkey()\n    }\n\n    id(prvkey) {\n        return __cryptolib__id(prvkey)\n    }\n\n    sign(msg, prvkey) {\n        return __cryptolib__sign(msg, prvkey)\n    }\n\n    hash(msg) {\n        return __cryptolib__hash(msg)\n    }\n\n    recoverid(msg, sig) {\n        return __cryptolib__recoverid(msg, sig)\n    }\n}\n\nmodule.export.Crypto = Crypto;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}